<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Jeu.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;go&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">go</a> &gt; <span class="el_source">Jeu.java</span></div><h1>Jeu.java</h1><pre class="source lang-java linenums">package go;

/**
 *
 * @author alexis
 */
public class Jeu {
    
    private Joueur j1;
    private Joueur j2;
    private Goban plateau;
    private int tour;
    private int passesJ1;
    private int passesJ2;
<span class="pc" id="L15">    private boolean partieFinie = false;</span>
<span class="pc" id="L16">    private boolean joueurJoue = false;</span>
    private Point2D action;
    
    
    /**
     * Constructeur de base
     */
<span class="nc" id="L23">    public Jeu(Goban plateau){</span>
<span class="nc" id="L24">        j1 = new Joueur(false);</span>
<span class="nc" id="L25">        j2 = new Joueur(true);</span>
<span class="nc" id="L26">        this.plateau=plateau;</span>
<span class="nc" id="L27">        this.tour = 1;</span>
<span class="nc" id="L28">    }</span>
    /**
     * Constructeur comprennant 2 joueurs
     * @param j1
     * @param j2 
     */
<span class="fc" id="L34">    public Jeu(Goban plateau, Joueur j1, Joueur j2){</span>
<span class="fc" id="L35">        this.j1 = j1;</span>
<span class="fc" id="L36">        this.j2 = j2;</span>
<span class="fc" id="L37">        this.plateau=plateau;</span>
<span class="fc" id="L38">        this.tour = 1;</span>
<span class="fc" id="L39">    }</span>
    /**
     * Permet de jouer un coup. si le point envoyé est [-1;-1] le joueur passe
     * son tour
     * @param point
     * @param joueur 
     */
    public void jouer(Point2D point, boolean joueur){
<span class="fc" id="L47">        this.action=point;</span>
<span class="pc bpc" id="L48" title="1 of 2 branches missed.">        this.joueurJoue = !joueur;</span>
<span class="pc bpc" id="L49" title="1 of 2 branches missed.">        if (joueur){</span>
<span class="nc bnc" id="L50" title="All 4 branches missed.">            if ( action.getX()==-1 &amp;&amp; action.getY()==-1){</span>
<span class="nc" id="L51">            passesJ1++;</span>
            }else {
<span class="nc" id="L53">                Pierre pierre = new Pierre(joueur,point);</span>
<span class="nc" id="L54">                plateau.poserPierre(pierre.getPosition(),pierre.isBlanc());</span>
<span class="nc" id="L55">                passesJ1=0;</span>
<span class="nc" id="L56">            }</span>
        }else{
<span class="pc bpc" id="L58" title="3 of 4 branches missed.">            if ( action.getX()==-1 &amp;&amp; action.getY()==-1){</span>
<span class="nc" id="L59">            passesJ2++;</span>
            }else {
<span class="fc" id="L61">                Pierre pierre = new Pierre(joueur,point);</span>
<span class="fc" id="L62">                plateau.ajouterGroupe(pierre);</span>
<span class="fc" id="L63">                passesJ2=0;</span>
            }
        }
<span class="fc" id="L66">        partieFinie=finPartie();</span>
<span class="fc" id="L67">    }</span>
    
    /**
     * Renvois true si les deux joueurs on passés au moins 2 tours chacun d'afilé
     * @return 
     */
    public boolean finPartie(){
<span class="fc bfc" id="L74" title="All 4 branches covered.">        return (passesJ1&gt;=2)&amp;&amp;(passesJ2&gt;=2);</span>
    }
    
    /**
     * Renvois true si c'est le tour du joueur 2
     * et false si c'est le tour du joueur 1
     * @return 
     */
    public boolean getJoueurJoue(){
<span class="fc" id="L83">        return this.joueurJoue;</span>
    }
    /**
     * Renvoie le plateau de jeu
     * @return le goban
     */
    public Goban getPlateau(){
<span class="nc" id="L90">        return this.plateau;</span>
    }

    public int getPassesJ1() {
<span class="fc" id="L94">        return passesJ1;</span>
    }

    public int getPassesJ2() {
<span class="nc" id="L98">        return passesJ2;</span>
    }

    public void setPassesJ1(int passesJ1) {
<span class="fc" id="L102">        this.passesJ1 = passesJ1;</span>
<span class="fc" id="L103">    }</span>

    public void setPassesJ2(int passesJ2) {
<span class="fc" id="L106">        this.passesJ2 = passesJ2;</span>
<span class="fc" id="L107">    }</span>
    
    
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span></div></body></html>